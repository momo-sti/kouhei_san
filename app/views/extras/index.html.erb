<%= stylesheet_link_tag 'extra' %>
<%= javascript_include_tag "extra_bottom", "data-turbo-track": "reload" %>
<% content_for :title, "計算結果" %>
<% content_for :back_path, highway_highways_path %>

<div class="overflow-x-auto">
  <table class="table">
    <!-- head -->
    <tbody>
      <tr id="total-amount", class="text-2xl">
        <th>合計</th>
        <th class="right-align"><%= display_number(@total_amount) %>円</th>
      </tr>
      <!-- row 1 -->
      <tr id="gasoline-cost", class="text-xl font-bold">
        <td>ガソリン代金</td>
        <td class="right-align"><%= display_number(@result) %>円</td>
      </tr>
      <!-- row 2 -->
      <tr id="total-distance-result">
        <td>距離</td>
        <td class="right-align"><%= display_number(@total_distance) %>km</td>
      </tr>
      <!-- row 3 -->
      <tr id="fuel-efficiency-result">
        <td>燃費</td>
        <td class="right-align"><%= display_number(@fuel_efficiency) %>L/km</td>
      </tr>
      <!-- row 4 -->
      <tr id="price-per-liter-result">
        <td>ガソリン単価</td>
        <td class="right-align"><%= display_number(@price_per_liter) %>L/円</td>
      </tr>
      <!-- row 1 -->
      <tr id="highway-cost", class="text-xl font-bold">
        <td>高速料金</td>
        <td class="right-align"><%= display_number(@highway_cost) %>円</td>
      </tr>
      <!-- row 2 -->
      <tr id="start-place-result">
        <td>出発IC : <%= @start_place %></td>
      </tr>
      <!-- row 3 -->
      <tr  id="arrive-place-result">
        <td>到着IC : <%= @arrive_place %></td>
      </tr>
      <!-- row extra -->
      <% @extras.each do |extra| %>
        <%= render partial: 'extra', locals: { extra: extra } %>
      <% end %>
    </tbody>
  </table>
</div>

<div class="modal-extra">
  <!-- Open the modal using ID.showModal() method -->
  <button class="btn btn-active btn-accent text-xl" onclick="my_modal_2.showModal()">＋</button>
  <dialog id="my_modal_2" class="modal">
    <div class="modal-box">
      <h3 class="font-bold text-lg">Hello!</h3>
      <%= render 'form', extra: @extra %>
      <button onclick="my_modal_2.close()">close</button>
    </div>
  </dialog>
</div>



<div>
    <%= link_to 'New Extra', new_extra_path %>
</div>
    <div>
    <%= render "splits/form" %>
    </div>
  </div>
</div>

<div id="bottomSheet" class="w-full bg-white fixed bottom-0 transform translate-y-full transition-transform duration-300 ease-in-out open:translate-y-1/5">
  <!-- Add your bottom sheet content here -->
  <button id="arrowButton" class="absolute top-0 right-0 m-4 w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center rotate:rotate-180 transition-transform duration-300 ease-in-out">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </button>
</div>

