<%= javascript_include_tag "highway", "data-turbo-track": "reload" %>
<%= stylesheet_link_tag 'highway' %>
<% content_for :title, "高速料金の計算" %>

<div class="container">
  <%= form_with url: highways_path, local: true, id: 'main_form', data: { turbo: false } do |f| %>
    <div class="place">
      <%= f.label :start_place, '出発IC' %>
      <%= f.text_field :start_place, id: "start_place", class: "input input-bordered input-accent w-full max-w-xs" %>
    </div>

    <div class="place">
      <%= f.label :arrive_place, '到着IC' %>
      <%= f.text_field :arrive_place, id: "arrive_place", class: "input input-bordered input-accent w-full max-w-xs" %>
    </div>

    <div class="car">
      <%= f.label :car_type, '自動車タイプ' %>
      <%= f.select :car_type, options_for_select([['普通車', '1'], ['軽自動車', '0']], selected: '1'), {}, class: "select select-accent w-full max-w-xs" %>
    </div>


    <div class="date">
      <%= f.label :date, '日付' %>
      <%= f.date_field :date, class:"input input-bordered input-accent w-full max-w-xs" %>
    </div>
    <div class="time">
      <%= f.label :hour, '時間' %>
      <%= f.select :hour, options_for_select((0..23).to_a.map { |h| h.to_s.rjust(2, '0') }), {}, class: "select select-accent w-full max-w-xs" %>
      <%= f.label :minute, ':' %>
      <%= f.select :minute, options_for_select((0..50).step(10).to_a.map { |m| m.to_s.rjust(2, '0') }), {}, class: "select select-accent w-full max-w-xs" %>
    </div>

    <div class="kind">
      <%= f.label :kind, '出発', value: 1 %>
      <%= f.radio_button :kind, '1', class: "radio radio-accent" %>

      <%= f.label :kind, '到着', value: 2 %>
      <%= f.radio_button :kind, '2', class: "radio radio-accent" %>
    </div>

    <div class="search">
      <%= f.submit '検索', class: "btn btn-active btn-accent fixed-button" %>
    </div>
  <% end %>


    <div>
      <%= form_with url: save_highway_info_highways_path, local: true do |f| %>
        <p class="cost">高速道路料金<%= f.number_field :highway_cost, class:"input input-bordered input-accent w-full max-w-xs" %>円</p>
        <div class="next"><%= f.submit '次へ', class: "btn btn-active btn-accent fixed-button" %></div>
      <% end %>
    </div>
</div>

<%= form_with url: 'https://www.driveplaza.com/dp/SearchQuick', method: :get, local: true, id: 'external_form', style: 'display: none;' do |f| %>
  <%= hidden_field_tag :startPlaceKana, nil, id: 'startPlaceKana' %>
  <%= hidden_field_tag :arrivePlaceKana, nil, id: 'arrivePlaceKana' %>
  <%= hidden_field_tag :searchHour, nil, id: 'searchHour' %>
  <%= hidden_field_tag :searchMinute, nil, id: 'searchMinute' %>
  <%= hidden_field_tag :kind, nil, id: 'kind' %>
  <%= hidden_field_tag :carType, nil, id: 'carType' %>
  <%= hidden_field_tag :priority, '2' %>
  <%= hidden_field_tag :keiyuPlaceKana, '' %>
  <%= hidden_field_tag :keiyuPlaceKana2, '' %>
  <%= hidden_field_tag :keiyuPlaceKana3, '' %>
  <%= hidden_field_tag :searchYear, nil, id: 'searchYear' %>
  <%= hidden_field_tag :searchMonth, nil, id: 'searchMonth' %>
  <%= hidden_field_tag :searchDay, nil, id: 'searchDay' %>
  <%= hidden_field_tag :selectickindflg, '0' %>
<% end %>